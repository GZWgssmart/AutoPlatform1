<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.gs.dao.PermissionDAO" >
  <resultMap id="permissionMap" type="com.gs.bean.Permission" >
    <id column="permissionId" property="permissionId" jdbcType="VARCHAR" />
    <result column="permissionName" property="permissionName" jdbcType="VARCHAR" />
    <result column="permissionZhname" property="permissionZhname" jdbcType="VARCHAR" />
    <result column="permissionDes" property="permissionDes" jdbcType="VARCHAR" />
    <result column="moduleId" property="moduleId" jdbcType="VARCHAR" />
    <result column="permissionStatus" property="permissionStatus" jdbcType="VARCHAR" />
    <association property="module" resultMap="com.gs.dao.ModuleDAO.moduleMap" ></association>
  </resultMap>
  <select id="queryAll" resultType="permission">
    select * from t_permission
    <where>
      <if test="permissionStatus!=null" >
        permissionStatus = #{permissionStatus}
      </if>
    </where>
  </select>

  <select id="queryByPager" resultType="permission">
    select * from t_permission
      limit #{beginIndex}, #{pageSize}
  </select>

  <insert id="insert" parameterType="permission">
    insert into t_permission values(#{permissionId}, #{permissionName},#{permissionZhname},#{permissionDes},#{module.moduleId}, 'Y')
  </insert>

  <update id="update" parameterType="permission">
    update t_permission set permissionName= #{permissionName}, permissionZHName=#{permissionZHName}, permissionDes=#{permissionDes}
  </update>

  <update id="updStatus" >
    update t_permission set permissionStatus = #{permissionStatus} where permissionId = #{permissionId};
  </update>

</mapper>